import{u as b,a as f,r as p,j as e,L as m,b as j}from"./index-CBEyk-Vo.js";import{P as w}from"./PublicLayout-DqWYMLFM.js";import{u as y,c as v,a as l,b as N,A as E,F as d}from"./Alert-3-MbsfxC.js";const L={email:"",password:""},F=()=>{const{login:s}=b(),i=f(),{loginError:c,login:g,clearLoginError:o}=y(r=>({login:r.login,loginError:r.loginError,clearLoginError:r.clearLoginError})),u=v({email:l().required("Email is required").email("Invalid email address"),password:l().required("Password is required").min(8,"Password must be at least 8 characters").max(20,"Password must be at most 20 characters")}),t=N({initialValues:L,validationSchema:u,validateOnChange:!1,onSubmit:async(r,{setSubmitting:n})=>{try{n(!0);const a={email:r.email,password:r.password},{token:x,user:h}=await g(a);s(x,h),t.resetForm(),i("/")}catch(a){console.error(a)}finally{n(!1)}}});return p.useEffect(()=>()=>{o()},[o]),{form:t,loginError:c}},S=()=>{const{form:s,loginError:i}=F();return e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"mb-4",children:e.jsx(E,{type:"error",message:i})}),e.jsxs("form",{className:"space-y-6",onSubmit:s.handleSubmit,noValidate:!0,children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:["Email address",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",readOnly:s.isSubmitting,value:s.values.email,onChange:s.handleChange}),s.errors.email&&e.jsx(d,{error:s.errors.email})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:["Password",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",readOnly:s.isSubmitting,value:s.values.password,onChange:s.handleChange}),s.errors.password&&e.jsx(d,{error:s.errors.password})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-3 block text-sm leading-6 text-gray-700",children:"Remember me"})]}),e.jsx("div",{className:"text-sm leading-6",children:e.jsx(m,{to:"/forgot-password",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",disabled:s.isSubmitting,children:"Sign in"})})]})]})},k=()=>e.jsx(w,{title:"Sign in",children:e.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[e.jsxs("div",{children:[e.jsx(j,{}),e.jsx("h2",{className:"text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-sm leading-6 text-gray-500",children:["Not a member?"," ",e.jsx(m,{to:"/register",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Register now"})]})]}),e.jsx("div",{className:"mt-10",children:e.jsx(S,{})})]})}),A=k;export{A as default};
